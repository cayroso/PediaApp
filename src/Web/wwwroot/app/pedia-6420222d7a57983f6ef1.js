!function(t){function e(e){for(var s,o,r=e[0],l=e[1],d=e[2],m=0,u=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(c&&c(e);u.length;)u.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={30:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/app/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=l;n.push(["CcfX",4,17,8,3,9,20,10,12,22,5,1,13,21,11,15,14,2,19,6,18,16,23,7,26,27,28,0,24]),a()}({"4NLD":function(t,e,a){},"5Q7D":function(t,e,a){"use strict";a("4NLD")},CcfX:function(t,e,a){"use strict";a.r(e),function(t){a("zCnV"),a("v6s/");var e=a("oCYn"),s=a("EGl4"),i=a("hf7O"),n=a("bM+u"),o=a("jE9Z"),r=a("SQ1T");e.default.use(i.a),e.default.use(n.a),e.default.use(o.a),new e.default({el:"#app",router:r.a,components:{App:s.a},created(){t(document).ready((function(){t(".main").addClass("main-loaded")}))}})}.call(this,a("EVdn"))},DRra:function(t,e,a){"use strict";a("sJ9Y")},EGl4:function(t,e,a){"use strict";var s=a("8GYW"),i=a("y2gb"),n=a("8/S3"),o=a("It2h"),r=a("IImL"),l={mixins:[n.a],props:{uid:String,appName:{type:String,required:!0,default:"Pedia App"},urlProfilePicture:String,menus:Array},components:{NotificationsDrawer:o.a,MessagesDrawer:r.a}},d=a("KHd+"),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"sm",fixed:"top",sticky:!0,type:"dark",variant:"dark"}},[a("div",{staticClass:"container-lg"},[a("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v(t._s(t.appName))]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarColor01"}},[a("ul",{staticClass:"navbar-nav"},t._l(t.menus,(function(e){return a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.to}},[a("span",{staticClass:"mr-1",class:e.icon}),t._v(" "),a("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(e.label)}})])],1)})),0)]),t._v(" "),a("ul",{staticClass:"navbar-nav ml-auto flex-row"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.messages.length>0,expression:"messages.length>0"}],staticClass:"nav-item"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.messagesDrawer",modifiers:{messagesDrawer:!0}}],staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault()}}},[a("i",{staticClass:"fas fa-envelope fa-fw"}),t._v(" "),a("span",{staticClass:"badge badge-danger"},[a("span",[t._v(t._s(t.messages.length))])])])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.notifications.length>0,expression:"notifications.length>0"}],staticClass:"nav-item px-2 px-sm-0"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.notificationsDrawer",modifiers:{notificationsDrawer:!0}}],staticClass:"nav-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[a("i",{staticClass:"fas fa-fw fa-bell"}),t._v(" "),a("span",{staticClass:"badge badge-danger"},[a("span",[t._v(t._s(t.notifications.length))])])])]),t._v(" "),a("li",{staticClass:"nav-item px-2 px-sm-0 dropdown"},[a("a",{staticClass:"nav-link  dropdown-toggle",attrs:{href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("b-avatar",{attrs:{variant:"info",size:"sm",src:t.urlProfilePicture}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{position:"absolute"},attrs:{"aria-labelledby":"userDropdown"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/accounts"}},[a("i",{staticClass:"fas fa-user fa-sm fa-fw mr-2"}),t._v("\n                        Account\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#","data-toggle":"modal","data-target":"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 "}),t._v("\n                        Logout\n                    ")])],1)])])]),t._v(" "),a("notifications-drawer",{attrs:{notifications:t.notifications,"url-view-order":"ordersView"}}),t._v(" "),a("messages-drawer",{attrs:{messages:t.messages}})],1)}),[],!1,null,null,null).exports,m={props:{appName:String}},u=Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-sidebar",{attrs:{id:"navDrawer",title:t.appName,backdrop:"",shadow:""}},[a("div",{staticClass:"list-group list-group-flush"},[a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/"}},[a("span",{staticClass:"fas fa-fw fa-home mr-1"}),t._v("Home\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/contacts"}},[a("span",{staticClass:"fas fa-fw fa-id-card mr-1"}),t._v("Contacts\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/tasks"}},[a("span",{staticClass:"fas fa-fw fa-tasks mr-1"}),t._v("Tasks\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/documents"}},[a("span",{staticClass:"fas fa-fw fa-archive mr-1"}),t._v("Documents\n        ")])],1)])}),[],!1,null,null,null).exports,p={mixins:[a("EQT1").a],props:{uid:String,menus:Array},data:()=>({}),computed:{},async created(){},async mounted(){},methods:{}},v=Object(d.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"d-block d-sm-none",attrs:{fixed:"bottom",type:"dark",variant:"dark"}},[a("b-navbar-nav",{attrs:{align:"center",justified:!0}},t._l(t.menus,(function(e){return a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.to}},[a("span",{staticClass:"mr-1",class:e.icon}),t._v(" "),a("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(e.label)}})])],1)})),0)],1)}),[],!1,null,null,null).exports,f={mixins:[s.a],components:{modalViewChat:i.a,AppBar:c,NavDrawer:u,BottomNav:v},props:{uid:String,appName:String,urlProfilePicture:String},data:()=>({menus:[{to:"/",label:"Home",icon:"fas fa-fw fa-home"},{to:"/appointments",label:"Appointments",icon:"fas fa-fw fa-calendar"},{to:"/clinic",label:"Clinics",icon:"fas fa-fw fa-clinic-medical"}]}),async mounted(){this.setupEventReceivers()},async created(){},methods:{displayToast(t,e){let a=t.content;a=a.replace(/<b>/g,""),a=a.replace(/<\/b>/g,""),a=a.replace(/<br\/>/g,""),this.$bvToast.toast(a,{title:t.title,variant:e,solid:!0})},setupEventReceivers(){const t=this;t.$bus.$on("event:parent-requested",(e=>t.displayToast(e,"info"))),t.$bus.$on("event:parent-rejected",(e=>t.displayToast(e,"danger"))),t.$bus.$on("event:parent-accepted",(e=>t.displayToast(e,"success"))),t.$bus.$on("event:parent-cancelled",(e=>t.displayToast(e,"warning")))}}},g=Object(d.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("app-bar",{attrs:{uid:t.uid,appName:t.appName,urlProfilePicture:t.urlProfilePicture,menus:t.menus}}),t._v(" "),a("main",{staticClass:"container-lg main mb-5 mb-md-0 pb-5 pb-sm-0"},[a("router-view",{attrs:{uid:t.uid}})],1),t._v(" "),a("bottom-nav",{attrs:{menus:t.menus}}),t._v(" "),a("modal-view-chat",{ref:"modalViewChat",attrs:{uid:t.uid}})],1)}),[],!1,null,null,null);e.a=g.exports},GLkQ:function(t,e,a){},SQ1T:function(t,e,a){"use strict";var s=a("jE9Z"),i=a("9f/t"),n=a("PN1e"),o=a("PjKf"),r=a("ogxq"),l=a("EQT1"),d={mixins:[l.a],props:{uid:String},components:{FullCalendar:i.a},data(){return{calendarOptions:{plugins:[n.b,o.a,r.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",initialEvents:[{id:1,title:"All-day event",start:new Date},{id:2,title:"Timed event",start:moment().add(1,"hours")}],editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents},currentEvents:[]}},computed:{},async created(){},async mounted(){},methods:{handleWeekendsToggle(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect(t){let e=prompt("Please enter a new title for your event"),a=t.view.calendar;a.unselect(),e&&a.addEvent({id:createEventId(),title:e,start:t.startStr,end:t.endStr,allDay:t.allDay})},handleEventClick(t){confirm(`Are you sure you want to delete the event '${t.event.title}'`)&&t.event.remove()},handleEvents(t){this.currentEvents=t}}},c=a("KHd+"),m=Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"demo-app-main"},[a("FullCalendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions},scopedSlots:t._u([{key:"eventContent",fn:function(e){return[a("b",[t._v(t._s(e.timeText))]),t._v(" "),a("i",[t._v(t._s(e.event.title))])]}}])})],1)])}),[],!1,null,null,null).exports,u=a("qUQk"),p={props:{uid:String},components:{accountsIndex:u.a},data:()=>({}),computed:{},async created(){},async mounted(){},methods:{}},v=Object(c.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("accounts-index")],1)}),[],!1,null,null,null).exports,f={data:()=>({moment:moment,isDirty:!1,validations:new Map,lookups:{parents:[],children:[]},busy:!1,item:{parentId:null,childId:null,dateStart:null,dateEnd:null,notes:null}}),computed:{formIsValid(){const t=this,e=t.item,a=new Map;return e.parentId||a.set("parentId","Parent is required."),e.childId||a.set("childId","Child is required."),e.dateStart||a.set("dateStart","Start Date is required."),e.dateEnd||a.set("dateEnd","End Date is required."),t.isDirty=!0,t.validations=a,0==a.size}},methods:{getValidClass(t){return this.isDirty?this.validations.has(t)?"is-invalid":"is-valid":""},reset(){const t=this;t.isDirty=!1,t.validations.clear(),t.item={parentId:null,childId:null,dateStart:null,dateEnd:null,notes:null}},async open(t){const e=this;e.reset(),e.item=t,await e.getParents(),e.$refs.modal.show()},close(){this.$refs.modal.hide()},async getParents(){const t=this;await t.$util.axios.get("/api/clinics/parents").then((e=>t.lookups.parents=e.data))},async getParentChildren(t){const e=this;await e.$util.axios.get(`/api/clinics/parents/${e.item.parentId}/children`).then((t=>e.lookups.children=t.data))},async save(){const t=this;if(!t.busy&&t.formIsValid)try{t.busy=!0;const e=t.$util.clone(t.item);e.clinicId=t.id,e.dateStart=moment(e.dateStart).utc(),e.dateEnd=moment(e.dateEnd).utc(),await t.$util.axios.post("/api/appointments/clinic/request",e).then((async e=>{t.$bvToast.toast("Appointment requested.",{title:"Request Appointment",variant:"success",toaster:"b-toaster-bottom-right"}),t.$emit("saved"),t.close()}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}},g=Object(c.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modal",attrs:{"no-close-on-esc":!1,"no-close-on-backdrop":!0,scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex flex-row  align-items-center justify-content-between"},[a("h5",{staticClass:"m-0"},[t._v("\n                    Book Appointment\n                ")])])])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDirty&&!t.formIsValid},on:{click:t.save}},[a("span",{staticClass:"fas fa-fw fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.$refs.modal.hide}},[t._v("\n            Close\n        ")])]},proxy:!0}])},[t._v(" "),t._v(" "),a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"parentId"}},[t._v("Parent")]),t._v(" "),a("div",[a("b-form-select",{class:t.getValidClass("parentId"),attrs:{options:t.lookups.parents,"value-field":"id","text-field":"name",id:"parentId"},on:{change:function(e){return t.getParentChildren(t.item.parentId)}},model:{value:t.item.parentId,callback:function(e){t.$set(t.item,"parentId",e)},expression:"item.parentId"}}),t._v(" "),t.validations.has("parentId")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                    "+t._s(t.validations.get("parentId"))+"\n                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"childId"}},[t._v("Child")]),t._v(" "),a("div",[a("b-form-select",{class:t.getValidClass("childId"),attrs:{options:t.lookups.children,"value-field":"id","text-field":"name",id:"childId"},model:{value:t.item.childId,callback:function(e){t.$set(t.item,"childId",e)},expression:"item.childId"}}),t._v(" "),t.validations.has("childId")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                    "+t._s(t.validations.get("childId"))+"\n                ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm"},[a("label",{attrs:{for:"dateStart"}},[t._v("Start")]),t._v(" "),a("div",[a("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v("\n                        "+t._s(t._f("moment")(t.item.dateStart,"calendar"))+"\n                    ")])])]),t._v(" "),a("div",{staticClass:"form-group col-sm"},[a("label",{attrs:{for:"dateEnd"}},[t._v("End")]),t._v(" "),a("div",[a("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v("\n                        "+t._s(t._f("moment")(t.item.dateEnd,"calendar"))+"\n                    ")])])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"notes"}},[t._v("Notes")]),t._v(" "),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.notes,expression:"item.notes"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.item.notes},on:{input:function(e){e.target.composing||t.$set(t.item,"notes",e.target.value)}}})])])])])}),[],!1,null,null,null).exports,h=a("2iVA"),b={mixins:[l.a],props:{uid:{type:String,required:!0}},components:{FullCalendar:i.a,modalAdd:g,modalView:h.a},data(){return{calendarOptions:{plugins:[n.b,o.a,r.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",initialEvents:[],events:[],selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.onClickCalendar,eventClick:this.onClickEvent}}},async mounted(){await this.getAppointments()},methods:{async onClickCalendar(t){if(t.allDay)return;const e=moment(t.start),a=moment(t.end);if(e.isBefore())return;this.$refs.modalAdd.open({dateStart:e.format("YYYY-MM-DDTHH:mm"),dateEnd:a.format("YYYY-MM-DDTHH:mm")})},async onClickEvent(t){this.$refs.modalView.open(t.event.id)},getEventBg(t){let e="";switch(t.status){case 1:case 2:e="magenta";break;case 3:case 4:e="silver";break;case 5:case 6:e="red";break;case 7:e="blue";break;case 8:e="green";break;case 9:e="bluegreen"}return e},async getAppointments(){const t=this;try{await t.$util.axios.get("/api/appointments/clinic/search/?c=&p=1&s=100&sf=&so=-1").then((e=>{t.calendarOptions.events=e.data.items.map((e=>({id:e.appointmentId,display:"list-item",title:`${e.statusText}: ${e.child.name}`,allDay:!1,start:moment(e.dateStart).format("YYYY-MM-DDTHH:mm"),end:moment(e.dateEnd).format("YYYY-MM-DDTHH:mm"),backgroundColor:t.getEventBg(e)})))}))}catch(e){t.$util.handleError(e)}}}},_=(a("5Q7D"),Object(c.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-sm-between"},[t._m(0),t._v(" "),a("div",{staticClass:"text-right"},[a("b-overlay",{attrs:{show:t.busy}},[a("button",{staticClass:"btn btn-info",on:{click:t.getAppointments}},[a("span",{staticClass:"fas fa-fw fa-sync"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[a("span",{staticClass:"fas fa-fw fa-times-circle"})])])],1)]),t._v(" "),a("div",{staticClass:"card p-2 border-info mt-2"},[a("full-calendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions},scopedSlots:t._u([{key:"eventContent",fn:function(e){return[a("b",[t._v(t._s(e.timeText))]),t._v(" "),a("i",[t._v(t._s(e.event.title))])]}}])})],1),t._v(" "),a("modal-add",{ref:"modalAdd",on:{saved:t.getAppointments}}),t._v(" "),a("modal-view",{ref:"modalView",attrs:{"view-mode":"clinic"},on:{saved:t.getAppointments}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-calendar mr-1"}),t._v("Appointments\n        ")])}],!1,null,"79f1997d",null).exports),C={mixins:[l.a],data:()=>({isDirty:!1,validations:new Map,lookups:{gender:[{id:1,name:"Male"},{id:2,name:"Female"}]},item:{gender:null,firstName:null,middleName:null,lastName:null,dateOfBirth:null}}),computed:{formIsValid(){const t=this,e=t.item,a=new Map;return e.gender||a.set("gender","Gender is required."),e.firstName||a.set("firstName","First name is required."),e.middleName||a.set("middleName","Middle name is required."),e.lastName||a.set("lastName","Last name is required."),e.dateOfBirth||a.set("dateOfBirth","Date of Birth is required."),t.isDirty=!0,t.validations=a,0==a.size}},methods:{getValidClass(t){return this.isDirty?this.validations.has(t)?"is-invalid":"is-valid":""},async save(){const t=this;if(!t.busy&&t.formIsValid)try{t.busy=!0;const e=t.$util.clone(t.item);e.dateOfBirth=moment(e.dateOfBirth).utc(),await t.$util.axios.post("/api/children",e).then((e=>{t.$bvToast.toast("Child added.",{title:"Add Child",variant:"success",toaster:"b-toaster-bottom-right"}),setTimeout((a=>{t.$router.push({name:"childrenView",params:{id:e.data}})}),2e3)}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}},y=(a("DRra"),Object(c.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-sm-between"},[t._m(0),t._v(" "),a("div",{staticClass:"text-right"},[a("b-overlay",{attrs:{show:t.busy}},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDirty&&!t.formIsValid},on:{click:t.save}},[a("span",{staticClass:"fas fa-fw fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[a("span",{staticClass:"fas fa-fw fa-times-circle"})])])],1)]),t._v(" "),a("div",{staticClass:"mt-2"},[a("b-overlay",{attrs:{show:t.busy}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"gender"}},[t._v("Gender")]),t._v(" "),a("div",[a("b-form-select",{class:t.getValidClass("name"),attrs:{options:t.lookups.gender,"value-field":"id","text-field":"name",id:"name"},model:{value:t.item.gender,callback:function(e){t.$set(t.item,"gender",e)},expression:"item.gender"}}),t._v(" "),t.validations.has("gender")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("gender"))+"\n                    ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstName"}},[t._v("First Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.firstName,expression:"item.firstName"}],staticClass:"form-control",class:t.getValidClass("firstName"),attrs:{type:"text",id:"firstName"},domProps:{value:t.item.firstName},on:{input:function(e){e.target.composing||t.$set(t.item,"firstName",e.target.value)}}}),t._v(" "),t.validations.has("firstName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("firstName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"middleName"}},[t._v("Middle Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.middleName,expression:"item.middleName"}],staticClass:"form-control",class:t.getValidClass("middleName"),attrs:{type:"text",id:"middleName"},domProps:{value:t.item.middleName},on:{input:function(e){e.target.composing||t.$set(t.item,"middleName",e.target.value)}}}),t._v(" "),t.validations.has("middleName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("middleName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastName"}},[t._v("Last Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.lastName,expression:"item.lastName"}],staticClass:"form-control",class:t.getValidClass("lastName"),attrs:{type:"text",id:"lastName"},domProps:{value:t.item.lastName},on:{input:function(e){e.target.composing||t.$set(t.item,"lastName",e.target.value)}}}),t._v(" "),t.validations.has("lastName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("lastName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dateOfBirth"}},[t._v("Date of Birth")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.dateOfBirth,expression:"item.dateOfBirth"}],staticClass:"form-control",class:t.getValidClass("dateOfBirth"),attrs:{type:"date",id:"dateOfBirth"},domProps:{value:t.item.dateOfBirth},on:{input:function(e){e.target.composing||t.$set(t.item,"dateOfBirth",e.target.value)}}}),t._v(" "),t.validations.has("dateOfBirth")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("dateOfBirth"))+"\n                    ")]):t._e()])])])],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-book mr-1"}),t._v("Add Child\n        ")])}],!1,null,"ac1d3f26",null).exports),w={props:{mapName:String,draggable:Boolean,fixed:Boolean,showLocation:Boolean,cx:Number,cy:Number,markerClickAction:Function},watch:{cx:function(t,e){this.map.setCenter},cy:function(t,e){this.map.setCenter}},data:()=>({navigator:{},centerPosition:{lat:0,lng:0},map:{},marker:{},infoWindow:{},geocode:{},items:[],markers:[]}),created(){},async mounted(){const t=this;t.navigator=navigator,t.navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;var e=setInterval((a=>{google&&google.maps&&(clearInterval(e),t.$emit("onMapReady"))}),250)},methods:{async initMap(t,e){const a=this;a.centerPosition={lat:t,lng:e};var s=[];for(var i in google.maps.MapTypeId)s.push(google.maps.MapTypeId[i]);const n=Number.parseInt(localStorage.getItem("zoom"))||15;a.map=new google.maps.Map(document.getElementById(a.mapName),{center:a.centerPosition,zoom:n,mapTypeControl:!0,streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:s}}),a.map.mapTypes.set("OSM",new google.maps.ImageMapType({getTileUrl:function(t,e){var a=1<<e,s=t.x%a;return s<0&&(s=a+s),"https://tile.openstreetmap.org/"+e+"/"+s+"/"+t.y+".png"},tileSize:new google.maps.Size(256,256),name:"Open Street Map",maxZoom:18})),a.infoWindow=new google.maps.InfoWindow,a.geocoder=new google.maps.Geocoder,a.navigator.geolocation?(0===a.cx&&0===a.cy?await a.getCurrentLocation():(a.map.setCenter(a.centerPosition),a.setMarker()),google.maps.event.addListener(a.map,"zoom_changed",(function(t){localStorage.setItem("zoom",this.zoom)}))):a.handleLocationError(!1,a.infoWindow,a.map.getCenter())},handleLocationError(t,e,a){const s=this;s.infoWindow.setPosition(a),s.infoWindow.setContent(t?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),s.infoWindow.open(map)},geocodeLatLng(t,e){const a=this;a.geocoder.geocode({location:e.position},(function(e,s){"OK"===s?a.$emit(t,e[0],{lat:a.centerPosition.lat,lng:a.centerPosition.lng}):window.alert("Geocoder failed due to: "+s)}))},async getCurrentLocation(){const t=this;await t.navigator.geolocation.getCurrentPosition((function(e){t.centerPosition={lat:e.coords.latitude,lng:e.coords.longitude},t.map.setCenter(t.centerPosition),t.showLocation&&t.setMarker()}))},setMarker(){const t=this;t.marker&&t.marker.setMap&&t.marker.setMap(null),t.marker=new google.maps.Marker({draggable:t.draggable,position:t.centerPosition,map:t.map}),google.maps.event.addListener(t.marker,"dragend",(function(e){t.centerPosition=this.getPosition(),t.geocodeLatLng("onAddress",t.marker)}))},placeMarkers(t,e){const a=this;let s=a.markers;s&&s.length>0&&s.forEach((t=>t.setMap(null))),t&&t.length&&(s=[],t.forEach((t=>{var e=new google.maps.Marker({draggable:!1,position:{lat:t.geoX,lng:t.geoY},map:a.map,item:t,title:`${t.firstName} ${t.lastName}`});google.maps.event.addListener(e,"click",(function(t){a.markerClickAction&&a.markerClickAction(this.item)})),s.push(e)})),a.markers=s),a.map.setCenter(a.centerPosition)}}},k=Object(c.a)(w,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:t.mapName}})}),[],!1,null,null,null).exports,x={mixins:[l.a],components:{gMap:k},props:{uid:String},data:()=>({isDirty:!1,validations:new Map,lookups:{statuses:[{id:1,name:"Open"},{id:2,name:"Closed"},{id:3,name:"Holiday Closed"}]},item:{geoX:0,geoY:0}}),computed:{formIsValid(){const t=this,e=t.item,a=new Map;return e.clinicStatus||a.set("clinicStatus","Status is required."),e.name||a.set("name","Name is required."),e.openingHours||a.set("openingHours","Opening Hours is required."),t.isDirty=!0,t.validations=a,0==a.size}},async created(){},async mounted(){},methods:{async onMapReady(){const t=this;await t.get();t.$refs.gmap.initMap(t.item.geoX,t.item.geoY)},onAddress(t,e){const a=this;a.item.address=t.formatted_address,a.item.geoX=e.lat(),a.item.geoY=e.lng()},getValidClass(t){return this.isDirty?this.validations.has(t)?"is-invalid":"is-valid":""},async get(){const t=this;await t.$util.axios.get("/api/clinics/my-clinic").then((e=>t.item=e.data))},async save(){const t=this;if(!t.busy&&t.formIsValid)try{t.busy=!0;const e=t.item,a=t.$util.clone(e);await t.$util.axios.put("/api/clinics/",a).then((e=>{t.$bvToast.toast("Clinic information created.",{title:"Updated Clinic Information",variant:"success",toaster:"b-toaster-bottom-right"}),t.get()}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}};a("t7bX");const N=[{path:"/",name:"index",component:m},{path:"/accounts",name:"accounts",component:v},{path:"/appointments",name:"appointmentsIndex",component:_},{path:"/appointments/add",name:"appointmentsAdd",component:y},{path:"/appointments/view/:id",name:"appointmentsView",component:_,props:!0},{path:"/clinic",name:"clinicIndex",component:Object(c.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-auto"},[a("div",[a("button",{staticClass:"btn btn-primary",on:{click:t.get}},[a("span",{staticClass:"fas fa-fw fa-sync"})]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDirty&&!t.formIsValid},on:{click:t.save}},[a("span",{staticClass:"fas fa-fw fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[a("span",{staticClass:"fas fa-fw fa-times-circle"})])])])]),t._v(" "),a("div",{staticClass:"mt-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"form-control",class:t.getValidClass("name"),attrs:{type:"text",id:"name"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}}),t._v(" "),t.validations.has("name")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                    "+t._s(t.validations.get("name"))+"\n                ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md"},[a("label",{attrs:{for:"phoneNumber"}},[t._v("Phone")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.phoneNumber,expression:"item.phoneNumber"}],staticClass:"form-control",class:t.getValidClass("phoneNumber"),attrs:{type:"tel",id:"phoneNumber"},domProps:{value:t.item.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.item,"phoneNumber",e.target.value)}}}),t._v(" "),t.validations.has("phoneNumber")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("phoneNumber"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group col-md"},[a("label",{attrs:{for:"mobileNumber"}},[t._v("Mobile")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.mobileNumber,expression:"item.mobileNumber"}],staticClass:"form-control",class:t.getValidClass("mobileNumber"),attrs:{type:"tel",id:"mobileNumber"},domProps:{value:t.item.mobileNumber},on:{input:function(e){e.target.composing||t.$set(t.item,"mobileNumber",e.target.value)}}}),t._v(" "),t.validations.has("mobileNumber")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("mobileNumber"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group col-md"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.email,expression:"item.email"}],staticClass:"form-control",class:t.getValidClass("email"),attrs:{type:"email",id:"email"},domProps:{value:t.item.email},on:{input:function(e){e.target.composing||t.$set(t.item,"email",e.target.value)}}}),t._v(" "),t.validations.has("email")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("email"))+"\n                    ")]):t._e()])])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{attrs:{for:"clinicStatus"}},[t._v("Status")]),t._v(" "),a("div",[a("b-form-select",{staticClass:"form-control",class:t.getValidClass("clinicStatus"),attrs:{options:t.lookups.statuses,"value-field":"id","text-field":"name",id:"clinicStatus"},model:{value:t.item.clinicStatus,callback:function(e){t.$set(t.item,"clinicStatus",e)},expression:"item.clinicStatus"}}),t._v(" "),t.validations.has("clinicStatus")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("clinicStatus"))+"\n                    ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group col-md"},[a("label",{attrs:{for:"openingHours"}},[t._v("Opening Hours")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.openingHours,expression:"item.openingHours"}],staticClass:"form-control",class:t.getValidClass("openingHours"),attrs:{type:"text",id:"openingHours"},domProps:{value:t.item.openingHours},on:{input:function(e){e.target.composing||t.$set(t.item,"openingHours",e.target.value)}}}),t._v(" "),t.validations.has("openingHours")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("openingHours"))+"\n                    ")]):t._e()])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[t._v("Address")]),t._v(" "),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.address,expression:"item.address"}],staticClass:"form-control",class:t.getValidClass("address"),attrs:{type:"text",id:"address"},domProps:{value:t.item.address},on:{input:function(e){e.target.composing||t.$set(t.item,"address",e.target.value)}}}),t._v(" "),t.validations.has("address")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                    "+t._s(t.validations.get("address"))+"\n                ")]):t._e()])])]),t._v(" "),a("div",{staticStyle:{height:"500px"}},[a("g-map",{ref:"gmap",attrs:{"map-name":"local-map",fixed:!1,"show-location":!0,cx:t.item.geoX,cy:t.item.geoY,draggable:!0},on:{onMapReady:t.onMapReady,onAddress:t.onAddress}})],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-clinic-medical mr-1"}),t._v("Pharmacy Information\n            ")])])}],!1,null,"6e9d1b42",null).exports},{path:"*",component:{template:"<div>Not found</div>"}}],$=new s.a({base:"/pedia",mode:"history",routes:N});e.a=$},sJ9Y:function(t,e,a){},t7bX:function(t,e,a){"use strict";a("GLkQ")},"v6s/":function(t,e,a){}});