!function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],m=0,v=[];m<l.length;m++)r=l[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);for(d&&d(e);v.length;)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={29:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;n.push(["CkfT",4,17,8,3,9,20,10,12,22,5,1,13,21,11,15,14,2,19,6,18,16,23,7,26,27,28,0,24,25]),a()}({"2ZTW":function(t,e,a){},CkfT:function(t,e,a){"use strict";a.r(e),function(t){a("zCnV"),a("2ZTW");var e=a("oCYn"),s=a("XxhF"),i=a("hf7O"),n=a("bM+u"),r=a("jE9Z"),l=a("KTYH"),o=(a("SSho"),a("n7CS")),c=a("jEab"),d=a("nC7C"),m=a("luJ8");e.default.use(i.a),e.default.use(n.a),e.default.use(r.a),e.default.component("m-pagination",o.a),e.default.component("sort-field",c.a),e.default.component("table-list",d.a),e.default.component("gmap-location",m.a),new e.default({el:"#app",router:l.a,components:{App:s.a},created(){t(document).ready((function(){t(".main").addClass("main-loaded")}))}})}.call(this,a("EVdn"))},HYir:function(t,e,a){"use strict";a("f2gl")},KTYH:function(t,e,a){"use strict";var s=a("jE9Z"),i=a("EQT1"),n={mixins:[i.a],props:{uid:String},data:()=>({item:{}}),computed:{},async created(){},async mounted(){},methods:{async get(){const t=this;try{await t.$util.axios.get("/api/riders/default/dashboard").then((e=>t.item=e.data))}catch(e){t.$util.handleError(e)}}}},r=a("KHd+"),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",[t._v("\n        Dashboard (under construction)            \n    ")]),t._v(" "),a("div",{staticClass:"d-none row row-cols-2 row-cols-sm-3"},[a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Teams")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.teams))]),t._v(" "),t._m(0)])])])]),t._v(" "),a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Users")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.users))]),t._v(" "),t._m(1)])])])]),t._v(" "),a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Tasks")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.tasks))]),t._v(" "),t._m(2)])])])]),t._v(" "),a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Contacts")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.contacts))]),t._v(" "),t._m(3)])])])]),t._v(" "),a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Attachments")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.attachments))]),t._v(" "),t._m(4)])])])]),t._v(" "),a("div",{staticClass:"col mb-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Documents")]),t._v(" "),a("div",{staticClass:"d-flex flex-row justify-content-between"},[a("h5",[t._v(t._s(t.item.documents))]),t._v(" "),t._m(5)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-users"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-tasks"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-id-card"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-paperclip"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"fas fa-fw fa-lg fa-archive"})])}],!1,null,null,null).exports,o=a("qUQk"),c={props:{uid:String},components:{accountsIndex:o.a},data:()=>({}),computed:{},async created(){},async mounted(){},methods:{}},d=Object(r.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("accounts-index")],1)}),[],!1,null,null,null).exports,m=a("8KAK"),v={mixins:[m.a],props:{uid:String,urlAdd:String,urlView:String},components:{},data(){return{baseUrl:"/api/appointments/parent/search",filter:{cacheKey:`filter-${this.uid}/children/parent/search`}}},computed:{},async created(){const t=this,e=JSON.parse(localStorage.getItem(t.filter.cacheKey))||{};t.initializeFilter(e),await t.search()},async mounted(){},methods:{}},u=Object(r.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-auto"},[a("div",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"mr-1"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/children/add"}},[a("i",{staticClass:"fas fa-plus"})])],1),t._v(" "),a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.query.criteria,expression:"filter.query.criteria"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter criteria...","aria-label":"Enter criteria...","aria-describedby":"button-addon2"},domProps:{value:t.filter.query.criteria},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)},input:function(e){e.target.composing||t.$set(t.filter.query,"criteria",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search(1)}}},[a("span",{staticClass:"fa fas fa-fw fa-search"})])])])])])])]),t._v(" "),a("b-collapse",{model:{value:t.filter.visible,callback:function(e){t.$set(t.filter,"visible",e)},expression:"filter.visible"}}),t._v(" "),a("b-overlay",{attrs:{show:t.busy}},[a("div",{staticClass:"mt-2 table-responsive shadow-sm"},[a("table-list",{attrs:{header:{key:"appointmentId",columns:[]},items:t.filter.items,getRowNumber:t.getRowNumber,setSelected:t.setSelected,isSelected:t.isSelected,"table-css":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Parent")]),t._v(" "),a("th",[t._v("Child")]),t._v(" "),a("th",[t._v("Date")])]},proxy:!0},{key:"table",fn:function(e){return[a("td",{staticClass:"text-center",domProps:{textContent:t._s(t.getRowNumber(e.index))}}),t._v(" "),a("td",{staticClass:"text-break"},[a("router-link",{attrs:{to:{name:"appointmentsView",params:{id:e.item.appointmentId}}}},[t._v("\n                                "+t._s(e.item.statusText)+"\n                            ")]),t._v(" "),a("div",{staticClass:"small"},[t._v("\n                                "+t._s(e.item.typeText)+"\n                            ")])],1),t._v(" "),a("td",[a("ul",{staticClass:"list-unstyled"},[a("li",[a("b-avatar",{attrs:{src:e.item.parent.imageUrl}}),t._v(" "+t._s(e.item.parent.name)+"\n                                    "),a("ul",{staticClass:"list-unstyled"},[a("li",[t._v("Phone: "+t._s(e.item.parent.phoneNumber))]),t._v(" "),a("li",[t._v("Email: "+t._s(e.item.parent.email))])])],1)])]),t._v(" "),a("td",[a("b-avatar",{attrs:{src:e.item.child.imageUrl}}),t._v(" "+t._s(e.item.child.name)+"\n                        ")],1),t._v(" "),a("td",[a("div",{staticClass:"small"},[t._v("\n                                Start: "+t._s(t._f("moment")(e.item.dateStart,"calendar"))+"\n                            ")]),t._v(" "),a("div",{staticClass:"small"},[t._v("\n                                Start: "+t._s(t._f("moment")(e.item.dateEnd,"calendar"))+"\n                            ")])])]}},{key:"list",fn:function(e){return[a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Status")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[a("router-link",{attrs:{to:{name:"appointmentsView",params:{id:e.item.appointmentId}}}},[t._v("\n                                    "+t._s(e.item.statusText)+"\n                                ")]),t._v(" "),a("div",{staticClass:"small"},[t._v("\n                                    "+t._s(e.item.typeText)+"\n                                ")])],1)]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Parent")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[a("ul",{staticClass:"list-unstyled"},[a("li",[a("b-avatar",{attrs:{src:e.item.parent.imageUrl}}),t._v(" "+t._s(e.item.parent.name)+"\n                                        "),a("ul",{staticClass:"list-unstyled"},[a("li",[t._v("Phone: "+t._s(e.item.parent.phoneNumber))]),t._v(" "),a("li",[t._v("Email: "+t._s(e.item.parent.email))])])],1)])])]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Child")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[a("b-avatar",{attrs:{src:e.item.child.imageUrl}}),t._v(" "+t._s(e.item.child.name)+"\n                            ")],1)]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Date")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                                "+t._s(t._f("moment")(e.item.dateStart,"calendar"))+" to "+t._s(t._f("moment")(e.item.dateEnd,"calendar"))+"\n                            ")])])]}}])})],1)]),t._v(" "),a("m-pagination",{staticClass:"mt-2",attrs:{filter:t.filter,search:t.search,showPerPage:!0}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm"},[a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-address-book mr-1"}),t._v("Children\n                ")])])}],!1,null,null,null).exports,f={mixins:[i.a],props:{uid:String,id:{type:String,required:!0}},data:()=>({item:{}}),computed:{},async created(){},async mounted(){await this.get()},methods:{async get(){const t=this;try{await t.$util.axios.get(`/api/children/${t.id}`).then((e=>t.item=e.data))}catch(e){t.$util.handleError(e)}}}},p=Object(r.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._v("\n    View Child Info\n    "),a("button",{on:{click:t.close}},[t._v("Close")]),t._v("\n    "+t._s(t.item)+"\n")])}),[],!1,null,null,null).exports,_={mixins:[m.a],props:{uid:String,urlAdd:String,urlView:String},components:{},data(){return{baseUrl:"/api/children/parent/search",filter:{cacheKey:`filter-${this.uid}/children/parent/search`}}},computed:{},async created(){const t=this,e=JSON.parse(localStorage.getItem(t.filter.cacheKey))||{};t.initializeFilter(e),await t.search()},async mounted(){},methods:{}},h=Object(r.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-auto"},[a("div",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"mr-1"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/children/add"}},[a("i",{staticClass:"fas fa-plus"})])],1),t._v(" "),a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.query.criteria,expression:"filter.query.criteria"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter criteria...","aria-label":"Enter criteria...","aria-describedby":"button-addon2"},domProps:{value:t.filter.query.criteria},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)},input:function(e){e.target.composing||t.$set(t.filter.query,"criteria",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search(1)}}},[a("span",{staticClass:"fa fas fa-fw fa-search"})])])])])])])]),t._v(" "),a("b-collapse",{model:{value:t.filter.visible,callback:function(e){t.$set(t.filter,"visible",e)},expression:"filter.visible"}}),t._v(" "),a("b-overlay",{attrs:{show:t.busy}},[a("div",{staticClass:"mt-2 table-responsive shadow-sm"},[a("table-list",{attrs:{header:{key:"childId",columns:[]},items:t.filter.items,getRowNumber:t.getRowNumber,setSelected:t.setSelected,isSelected:t.isSelected,"table-css":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Gender")]),t._v(" "),a("th",[t._v("Date of Birth")])]},proxy:!0},{key:"table",fn:function(e){return[a("td",{staticClass:"text-center",domProps:{textContent:t._s(t.getRowNumber(e.index))}}),t._v(" "),a("td",{staticClass:"text-break"},[a("b-avatar",{attrs:{src:e.item.imageUrl}}),t._v(" "),a("router-link",{attrs:{to:{name:"childrenView",params:{id:e.item.childId}}}},[t._v("\n                            "+t._s(e.item.firstName)+" "+t._s(e.item.middleName)+" "+t._s(e.item.lastName)+"\n                        ")])],1),t._v(" "),a("td",[t._v("\n                        "+t._s(e.item.genderText)+"\n                    ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(t._f("moment")(e.item.dateOfBirth,"calendar"))+"\n                    ")])]}},{key:"list",fn:function(e){return[a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("div",{staticClass:"offset-4 col align-self-center"},[a("b-avatar",{attrs:{src:e.item.imageUrl}})],1)]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[a("router-link",{attrs:{to:{name:"childrenView",params:{id:e.item.childId}}}},[t._v("\n                                "+t._s(e.item.firstName)+" "+t._s(e.item.middleName)+" "+t._s(e.item.lastName)+"\n                            ")])],1)]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Gender")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                            "+t._s(e.item.genderText)+"\n                        ")])]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-4 col-form-label"},[t._v("Date of Brith")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                            "+t._s(t._f("moment")(e.item.dateOfBirth,"calendar"))+"\n                        ")])])]}}])})],1)]),t._v(" "),a("m-pagination",{staticClass:"mt-2",attrs:{filter:t.filter,search:t.search,showPerPage:!0}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm"},[a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-address-book mr-1"}),t._v("Children\n            ")])])}],!1,null,null,null).exports,b={mixins:[i.a],data:()=>({isDirty:!1,validations:new Map,lookups:{gender:[{id:1,name:"Male"},{id:2,name:"Female"}]},item:{gender:null,firstName:null,middleName:null,lastName:null,dateOfBirth:null}}),computed:{formIsValid(){const t=this,e=t.item,a=new Map;return e.gender||a.set("gender","Gender is required."),e.firstName||a.set("firstName","First name is required."),e.middleName||a.set("middleName","Middle name is required."),e.lastName||a.set("lastName","Last name is required."),e.dateOfBirth||a.set("dateOfBirth","Date of Birth is required."),t.isDirty=!0,t.validations=a,0==a.size}},methods:{getValidClass(t){return this.isDirty?this.validations.has(t)?"is-invalid":"is-valid":""},async save(){const t=this;if(!t.busy&&t.formIsValid)try{t.busy=!0;const e=t.$util.clone(t.item);e.dateOfBirth=moment(e.dateOfBirth).utc(),await t.$util.axios.post("/api/children",e).then((e=>{t.$bvToast.toast("Child added.",{title:"Add Child",variant:"success",toaster:"b-toaster-bottom-right"}),setTimeout((a=>{t.$router.push({name:"childrenView",params:{id:e.data}})}),2e3)}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}},C=(a("ftup"),Object(r.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-sm-between"},[t._m(0),t._v(" "),a("div",{staticClass:"text-right"},[a("b-overlay",{attrs:{show:t.busy}},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDirty&&!t.formIsValid},on:{click:t.save}},[a("span",{staticClass:"fas fa-fw fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[a("span",{staticClass:"fas fa-fw fa-times-circle"})])])],1)]),t._v(" "),a("div",{staticClass:"mt-2"},[a("b-overlay",{attrs:{show:t.busy}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"gender"}},[t._v("Gender")]),t._v(" "),a("div",[a("b-form-select",{class:t.getValidClass("name"),attrs:{options:t.lookups.gender,"value-field":"id","text-field":"name",id:"name"},model:{value:t.item.gender,callback:function(e){t.$set(t.item,"gender",e)},expression:"item.gender"}}),t._v(" "),t.validations.has("gender")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("gender"))+"\n                    ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstName"}},[t._v("First Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.firstName,expression:"item.firstName"}],staticClass:"form-control",class:t.getValidClass("firstName"),attrs:{type:"text",id:"firstName"},domProps:{value:t.item.firstName},on:{input:function(e){e.target.composing||t.$set(t.item,"firstName",e.target.value)}}}),t._v(" "),t.validations.has("firstName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("firstName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"middleName"}},[t._v("Middle Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.middleName,expression:"item.middleName"}],staticClass:"form-control",class:t.getValidClass("middleName"),attrs:{type:"text",id:"middleName"},domProps:{value:t.item.middleName},on:{input:function(e){e.target.composing||t.$set(t.item,"middleName",e.target.value)}}}),t._v(" "),t.validations.has("middleName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("middleName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastName"}},[t._v("Last Name")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.lastName,expression:"item.lastName"}],staticClass:"form-control",class:t.getValidClass("lastName"),attrs:{type:"text",id:"lastName"},domProps:{value:t.item.lastName},on:{input:function(e){e.target.composing||t.$set(t.item,"lastName",e.target.value)}}}),t._v(" "),t.validations.has("lastName")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("lastName"))+"\n                    ")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dateOfBirth"}},[t._v("Date of Birth")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.dateOfBirth,expression:"item.dateOfBirth"}],staticClass:"form-control",class:t.getValidClass("dateOfBirth"),attrs:{type:"date",id:"dateOfBirth"},domProps:{value:t.item.dateOfBirth},on:{input:function(e){e.target.composing||t.$set(t.item,"dateOfBirth",e.target.value)}}}),t._v(" "),t.validations.has("dateOfBirth")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("dateOfBirth"))+"\n                    ")]):t._e()])])])],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-book mr-1"}),t._v("Add Child\n        ")])}],!1,null,"7249e4c3",null).exports),g={mixins:[i.a],props:{uid:String,id:{type:String,required:!0}},data:()=>({item:{}}),computed:{},async created(){},async mounted(){await this.get()},methods:{async get(){const t=this;try{await t.$util.axios.get(`/api/children/${t.id}`).then((e=>t.item=e.data))}catch(e){t.$util.handleError(e)}}}},y=Object(r.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._v("\n    View Child Info\n    "),a("button",{on:{click:t.close}},[t._v("Close")]),t._v("\n    "+t._s(t.item)+"\n")])}),[],!1,null,null,null).exports,w={data:()=>({moment:moment,busy:!1,taskId:null,item:{contact:{}}}),methods:{async open(t){const e=this;e.taskId=t,await e.get(),e.$refs.modal.show()},close(){this.$refs.modal.hide()},async get(){const t=this;if(!t.busy)try{await t.$util.axios.get(`/api/members/tasks/${t.taskId}`).then((e=>{t.item=e.data}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}},async updateTaskItem(t){const e=this;if(!e.busy)try{const a=e.item;await e.$util.axios.put(`/api/members/tasks/update-task-item/${a.taskId}/${t.taskItemId}/${t.isDone}`).then((async t=>{e.$bvToast.toast("Task Item updated.",{title:"Update Task Item",variant:"success",toaster:"b-toaster-bottom-right"}),e.$emit("updated"),e.get()}))}catch(t){e.$util.handleError(t)}finally{e.busy=!1}},deleteTask(){const t=this;if(!t.busy){t.busy=!0;try{this.$bvModal.msgBoxConfirm("Are you sure you want to delete this task?").then((async e=>{if(e){const e=t.item,a=`/api/members/tasks/${e.taskId}/${e.token}`;await t.$util.axios.delete(a).then((e=>{t.$emit("removed"),t.close()}))}})).catch((e=>{t.$util.handleError(e)}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}}},x=(a("m0rs"),Object(r.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modal",attrs:{"no-close-on-esc":!1,"no-close-on-backdrop":!0,scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex flex-row  align-items-center justify-content-between"},[a("h5",{staticClass:"m-0"},[t._v("\n                    View Task\n                ")]),t._v(" "),a("h6",{staticClass:"m-0"},[t._v("\n                    "+t._s(t.item.taskTypeText)+" - "+t._s(t.item.taskStatusText)+"\n                ")])])])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-danger",on:{click:t.deleteTask}},[t._v("\n            Delete\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[t._v("\n            Close\n        ")])]},proxy:!0}])},[t._v(" "),t._v(" "),a("div",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md"},[a("label",{attrs:{for:"firstName"}},[t._v("Contact")]),t._v(" "),a("div",[a("router-link",{attrs:{to:{name:"contactsView",params:{id:t.item.contact.contactId}}}},[t._v("\n                        "+t._s(t.item.contact.firstName)+" "+t._s(t.item.contact.middleName)+" "+t._s(t.item.contact.lastName)+"\n                    ")])],1)]),t._v(" "),a("div",{staticClass:"form-group col-md-3"},[a("label",{attrs:{for:"firstName"}},[t._v("Status")]),t._v(" "),a("div",[t._v(t._s(t.item.contact.statusText))])]),t._v(" "),a("div",{staticClass:"form-group col-md-3"},[a("label",{attrs:{for:"firstName"}},[t._v("Rating")]),t._v(" "),a("div",[a("b-form-rating",{attrs:{inline:"","no-border":"",size:"sm",id:"rating",readonly:""},model:{value:t.item.contact.rating,callback:function(e){t.$set(t.item.contact,"rating",e)},expression:"item.contact.rating"}})],1)])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md order-1 order-md-0"},[a("label",{attrs:{for:"title"}},[t._v("Title")]),t._v(" "),a("div",[t._v("\n                    "+t._s(t.item.title)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col order-0 order-md-1"},[a("label",{attrs:{for:"dateActualCompleted"}},[t._v("Dates")]),t._v(" "),a("div",[a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:""+t.moment(t.item.dateAssigned).calendar(),expression:"`${moment(item.dateAssigned).calendar()}`",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-sm btn-outline-info",attrs:{title:"Date Assigned"}},[a("i",{staticClass:"fas fa-fw fa-calendar"})]),t._v(" "),a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:""+t.moment(t.item.dateCompleted).calendar(),expression:"`${moment(item.dateCompleted).calendar()}`",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-sm btn-outline-info",attrs:{title:"Date to Complete"}},[a("i",{staticClass:"fas fa-fw fa-calendar-plus"})]),t._v(" "),t.moment(t.item.dateActualCompleted).isBefore()?a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:""+t.moment(t.item.dateActualCompleted).calendar(),expression:"`${moment(item.dateActualCompleted).calendar()}`",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-sm btn-outline-info",attrs:{title:"Actual Date Completed"}},[a("i",{staticClass:"fas fa-fw fa-calendar-check"})]):t._e()])])]),t._v(" "),t.item.description?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),a("div",[t._v("\n                "+t._s(t.item.description)+"\n            ")])]):t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("Task Items")]),t._v(" "),a("div",{staticClass:"table-responsive mb-0"},[a("table",{staticClass:"table table-sm"},[a("thead",[a("tr",[a("td"),t._v(" "),a("td",[t._v("Title")]),t._v(" "),a("td",[t._v("Date Completed")])])]),t._v(" "),a("tbody",t._l(t.item.taskItems,(function(e,s){return a("tr",{class:{"table-success":e.isDone}},[a("td",[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"taskItem.isDone"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch-"+e.taskItemId},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(a){var s=e.isDone,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(e,"isDone",s.concat([null])):r>-1&&t.$set(e,"isDone",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e,"isDone",n)},function(a){return t.updateTaskItem(e)}]}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch-"+e.taskItemId}})])]),t._v(" "),a("td",[a("label",{staticClass:"font-weight-normal",attrs:{for:"customSwitch-"+e.taskItemId}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])]),t._v(" "),a("td",[e.isDone?a("div",[t._v("\n                                    "+t._s(t._f("moment")(e.dateCompleted,"calendar"))+"\n                                ")]):t._e()])])})),0)])])])])])}),[],!1,null,"1583434e",null).exports),k={mixins:[m.a],props:{uid:String,urlAdd:String,urlView:String},components:{modalViewTask:x},data(){return{moment:moment,baseUrl:"/api/clinics/search",lookups:{taskStatuses:[{id:0,name:"All"},{id:1,name:"Todo"},{id:2,name:"In Progress"},{id:3,name:"Done"}],taskTypes:[{id:0,name:"All"},{id:1,name:"Follow-Up Email"},{id:2,name:"Phone Call"},{id:3,name:"Demo"},{id:4,name:"Lunch Meeting"},{id:5,name:"Meetup"},{id:6,name:"Others"}]},filter:{cacheKey:`filter-${this.uid}/contacts`,query:{taskStatus:0,taskType:0}}}},computed:{},async created(){const t=this,e=t.filter,a=new URLSearchParams(window.location.search),s=JSON.parse(localStorage.getItem(e.cacheKey))||{};e.query.taskType=a.get("tt")||s.taskType||e.query.taskType,e.query.taskStatus=a.get("ts")||s.taskStatus||e.query.taskStatus,t.initializeFilter(s),await t.search()},async mounted(){},methods:{getQuery(){const t=this.filter;if(this.busy)return;return["?c=",encodeURIComponent(t.query.criteria),"&p=",t.query.pageIndex,"&s=",t.query.pageSize,"&sf=",t.query.sortField,"&so=",t.query.sortOrder,"&tt=",t.query.taskType,"&ts=",t.query.taskStatus].join("")},saveQuery(){const t=this.filter;localStorage.setItem(t.cacheKey,JSON.stringify({criteria:t.query.criteria,pageIndex:t.query.pageIndex,pageSize:t.query.pageSize,sortField:t.query.sortField,sortOrder:t.query.sortOrder,visible:t.visible,taskType:t.query.taskType,taskStatus:t.query.taskStatus}))},getTaskTdCss(t){switch(t.taskStatus){case 1:return"table-warning";case 2:return"table-info";case 3:return"table-success";default:return""}}}},$=Object(r.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-auto"},[a("div",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.query.criteria,expression:"filter.query.criteria"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter criteria...","aria-label":"Enter criteria...","aria-describedby":"button-addon2"},domProps:{value:t.filter.query.criteria},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)},input:function(e){e.target.composing||t.$set(t.filter.query,"criteria",e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search(1)}}},[a("span",{staticClass:"fa fas fa-fw fa-search"})])])])])])])]),t._v(" "),a("b-overlay",{attrs:{show:t.busy}},[a("div",{staticClass:"mt-2 table-responsive shadow-sm"},[a("table-list",{attrs:{header:{key:"clinicId",columns:[]},items:t.filter.items,getRowNumber:t.getRowNumber,setSelected:t.setSelected,isSelected:t.isSelected,"table-css":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("th",{staticClass:"text-center"},[t._v("#")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Open Hours")]),t._v(" "),a("th",[t._v("Address")])]},proxy:!0},{key:"table",fn:function(e){return[a("td",{staticClass:"text-center",class:t.getTaskTdCss(e.item),domProps:{textContent:t._s(t.getRowNumber(e.index))}}),t._v(" "),a("td",[a("router-link",{attrs:{to:{name:"clinicsView",params:{id:e.item.clinicId}}}},[t._v("\n                            "+t._s(e.item.name)+"\n                        ")])],1),t._v(" "),a("td",[t._v("\n                        "+t._s(e.item.clinicStatusText)+"\n                    ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(e.item.openingHours)+"\n                    ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(e.item.address)+"\n                    ")])]}},{key:"list",fn:function(e){return[a("div",[a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-3 col-form-label"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[a("router-link",{attrs:{to:{name:"clinicsView",params:{id:e.item.clinicId}}}},[t._v("\n                                    "+t._s(e.item.name)+"\n                                ")])],1)]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-3 col-form-label"},[t._v("Status")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                                "+t._s(e.item.clinicStatusText)+"\n                            ")])]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-3 col-form-label"},[t._v("Open Hours")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                                "+t._s(e.item.openingHours)+"\n                            ")])]),t._v(" "),a("div",{staticClass:"form-group mb-0 row no-gutters"},[a("label",{staticClass:"col-3 col-form-label"},[t._v("Address")]),t._v(" "),a("div",{staticClass:"col align-self-center"},[t._v("\n                                "+t._s(e.item.address)+"\n                            ")])])])]}}])})],1)]),t._v(" "),a("m-pagination",{staticClass:"mt-2",attrs:{filter:t.filter,search:t.search,showPerPage:!0}}),t._v(" "),a("modal-view-task",{ref:"modalViewTask",on:{updated:t.search,removed:t.search}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm"},[a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-clinic-medical mr-1"}),t._v("Clinics\n            ")])])}],!1,null,null,null).exports,S={mixins:[i.a],props:{uid:String,id:{type:String,required:!0}},data:()=>({item:{}}),computed:{},async created(){},async mounted(){},methods:{}},N=Object(r.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t._v("\n    View Clinic\n\n    "),a("router-link",{attrs:{to:{name:"clinicsAddAppointment",params:{id:t.id}}}},[t._v("\n        Book Appointment\n    ")])],1)}),[],!1,null,null,null).exports,E=a("9f/t"),T=a("PN1e"),D=a("PjKf"),I=a("ogxq"),O=a("2iVA"),A={mixins:[i.a],props:{uid:{type:String,required:!0},id:{type:String,required:!0}},components:{FullCalendar:E.a,modalView:O.a},data(){return{calendarOptions:{plugins:[T.b,D.a,I.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",initialEvents:[],events:[],selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.onClickCalendar,eventClick:this.onClickEvent},isDirty:!1,validations:new Map,lookups:{children:[]},item:{childId:null,dateStart:moment().format("YYYY-MM-DDTHH:mm"),dateEnd:moment().add(2,"hours").format("YYYY-MM-DDTHH:mm"),notes:null},selectionDateInfo:null}},computed:{formIsValid(){const t=this,e=t.item,a=new Map;return e.childId||a.set("childId","Child is required."),e.dateStart||a.set("dateStart","Start Date is required."),e.dateEnd||a.set("dateEnd","End Date is required."),t.isDirty=!0,t.validations=a,0==a.size}},async mounted(){await this.getChildren(),await this.getAppointments()},methods:{getValidClass(t){return this.isDirty?this.validations.has(t)?"is-invalid":"is-valid":""},async onClickCalendar(t){if(t.allDay)return;if(moment(t.start).isBefore())return void alert("Cannot book appointment in the past");const e=this;e.selectionDateInfo=t,e.item.dateStart=moment(t.start),e.item.dateEnd=moment(t.end),e.$refs.modal.show()},async onClickEvent(t){this.$refs.modalView.open(t.event.id)},async getAppointments(){const t=this;try{await t.$util.axios.get(`/api/appointments/clinic/search/${t.id}/?c=&p=1&s=100&sf=&so=-1`).then((e=>{t.calendarOptions.events=e.data.items.map((e=>({id:e.appointmentId,display:"list-item",title:t.uid!==e.parent.parentId?"RESERVED":`${e.statusText}: ${e.clinic.name} - ${e.child.name}`,allDay:!1,start:moment(e.dateStart).format("YYYY-MM-DDTHH:mm"),end:moment(e.dateEnd).format("YYYY-MM-DDTHH:mm")})))}))}catch(e){t.$util.handleError(e)}},async getChildren(){const t=this;try{await t.$util.axios.get("/api/children/parent/search/?c=&p=1&s=100&sf=&so=-1").then((e=>{t.lookups.children=e.data.items.map((t=>({id:t.childId,name:`${t.genderText}: ${t.firstName} ${t.middleName}${t.lastName} - ${moment(t.dateOfBirth).calendar()}`})))}))}catch(e){t.$util.handleError(e)}},async save(){const t=this;if(!t.busy&&t.formIsValid)try{t.busy=!0;const e=t.$util.clone(t.item);e.clinicId=t.id,e.dateStart=moment(e.dateStart).utc(),e.dateEnd=moment(e.dateEnd).utc(),await t.$util.axios.post("/api/appointments/parent/request",e).then((async e=>{t.$bvToast.toast("Appointment requested.",{title:"Request Appointment",variant:"success",toaster:"b-toaster-bottom-right"}),t.$refs.modal.hide(),await t.getAppointments()}))}catch(e){t.$util.handleError(e)}finally{t.busy=!1}}}},q=(a("XRt8"),Object(r.a)(A,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex flex-column flex-sm-row justify-content-sm-between"},[t._m(0),t._v(" "),a("div",{staticClass:"text-right"},[a("b-overlay",{attrs:{show:t.busy}},[a("button",{staticClass:"btn btn-info",on:{click:t.getAppointments}},[a("span",{staticClass:"fas fa-fw fa-sync"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[a("span",{staticClass:"fas fa-fw fa-times-circle"})])])],1)]),t._v(" "),a("div",{staticClass:"card p-2 border-info mt-2"},[a("full-calendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions},scopedSlots:t._u([{key:"eventContent",fn:function(e){return[a("b",[t._v(t._s(e.timeText))]),t._v(" "),a("i",[t._v(t._s(e.event.title))])]}}])})],1),t._v(" "),a("b-modal",{ref:"modal",attrs:{"no-close-on-esc":!1,"no-close-on-backdrop":!0,scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex flex-row  align-items-center justify-content-between"},[t._v("\n                    Book Appointment\n                ")])])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDirty&&!t.formIsValid},on:{click:t.save}},[a("span",{staticClass:"fas fa-fw fa-save"})]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.$refs.modal.hide}},[t._v("\n                Close\n            ")])]},proxy:!0}])},[t._v(" "),t._v(" "),t.selectionDateInfo?a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"childId"}},[t._v("Child")]),t._v(" "),a("div",[a("b-form-select",{class:t.getValidClass("childId"),attrs:{options:t.lookups.children,"value-field":"id","text-field":"name",id:"childId"},model:{value:t.item.childId,callback:function(e){t.$set(t.item,"childId",e)},expression:"item.childId"}}),t._v(" "),t.validations.has("childId")?a("div",{staticClass:"invalid-feedback"},[t._v("\n                        "+t._s(t.validations.get("childId"))+"\n                    ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm"},[a("label",{attrs:{for:"dateStart"}},[t._v("Start")]),t._v(" "),a("div",[a("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v("\n                            "+t._s(t._f("moment")(t.item.dateStart,"calendar"))+"\n                        ")])])]),t._v(" "),a("div",{staticClass:"form-group col-sm"},[a("label",{attrs:{for:"dateEnd"}},[t._v("End")]),t._v(" "),a("div",[a("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v("\n                            "+t._s(t._f("moment")(t.item.dateEnd,"calendar"))+"\n                        ")])])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"notes"}},[t._v("Notes")]),t._v(" "),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.notes,expression:"item.notes"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.item.notes},on:{input:function(e){e.target.composing||t.$set(t.item,"notes",e.target.value)}}})])]),t._v("\n\n            "+t._s(t.selectionDateInfo)+"\n        ")]):t._e()]),t._v(" "),a("modal-view",{ref:"modalView",attrs:{"view-mode":"parent"},on:{saved:t.getAppointments}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"h3 mb-sm-0"},[a("i",{staticClass:"fas fa-fw fa-calendar mr-1"}),t._v("Book Appointment\n        ")])}],!1,null,"33e2bd96",null).exports),P={data:()=>({moment:moment,busy:!1,id:null,item:{parent:{},child:{},clinic:{}}}),methods:{reset(){const t=this;t.id=null,t.item={parent:{},child:{},clinic:{}},t.busy=!1},async open(t){const e=this;e.reset(),e.id=t,await e.get(),e.$refs.modal.show()},close(){this.$refs.modal.hide()},async get(){const t=this;try{await t.$util.axios.get(`/api/appointments/${t.id}`).then((e=>{t.item=e.data}))}catch(e){t.$util.handleError(e)}}}},V=(a("HYir"),Object(r.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modal",attrs:{"no-close-on-esc":!1,"no-close-on-backdrop":!0,scrollable:""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",{staticClass:"d-sm-flex align-items-center justify-content-between"},[a("h1",{staticClass:"h5 m-0"},[t._v("\n                View Appointment \n                "),t.moment(t.item.dateStart).isBefore()&&t.item.status<6?a("span",[t._v("\n                    Overdue\n                ")]):t._e()])])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.save(!1)}}},[t._v("\n            Save\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[t._v("\n            Close\n        ")])]},proxy:!0}])},[t._v(" "),t._v(" "),a("div",[a("div",{staticClass:"form-group"},[a("label",[t._v("Clinic")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                "+t._s(t.item.clinic.name)+"\n            ")])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm"},[a("label",[t._v("Phone Number")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.clinic.phoneNumber)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm"},[a("label",[t._v("Mobile Number")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.clinic.mobileNumber)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm"},[a("label",[t._v("Email")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.clinic.email)+"\n                ")])])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm-4"},[a("label",[t._v("Opening Hours")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.clinic.openingHours)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm"},[a("label",[t._v("Address")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.clinic.address)+"\n                ")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm"},[a("label",[t._v("Child")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.child.firstName)+" "+t._s(t.item.child.middleName)+" "+t._s(t.item.child.lastName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm-3"},[a("label",[t._v("Gender")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.child.genderText)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm-3"},[a("label",[t._v("Date of Birth")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t._f("moment")(t.item.child.dateOfBirth,"calendar"))+"\n                ")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[t._v("Appointment Type")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.typeText)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",[t._v("Status")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t.item.statusText)+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",[t._v("Status")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t._f("moment")(t.item.dateStart,"calendar"))+"\n                ")])]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",[t._v("Status")]),t._v(" "),a("div",{staticClass:"form-control-plaintext"},[t._v("\n                    "+t._s(t._f("moment")(t.item.dateEnd,"calendar"))+"\n                ")])])])])])}),[],!1,null,"49bc0b98",null).exports),j={mixins:[i.a],props:{uid:String},components:{FullCalendar:E.a,viewAppointment:V},data(){return{calendarOptions:{plugins:[T.b,D.a,I.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",initialEvents:[],events:[],selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,eventClick:this.handleEventClick},currentEvents:[]}},computed:{},async created(){},async mounted(){await this.getAppointments()},methods:{handleWeekendsToggle(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect(t){let e=prompt("Please enter a new title for your event"),a=t.view.calendar;a.unselect(),e&&a.addEvent({id:createEventId(),title:e,start:t.startStr,end:t.endStr,allDay:t.allDay})},async handleEventClick(t){const e=t.event.id;await this.getAppointment(e)},handleEvents(t){this.currentEvents=t},async getAppointments(){const t=this;try{await t.$util.axios.get("/api/appointments/parent/search/?c=&p=1&s=100&sf=&so=-1").then((e=>{t.calendarOptions.events=e.data.items.map((t=>({id:t.appointmentId,display:"list-item",title:`${t.child.name}`,allDay:!1,start:moment(t.dateStart).format("YYYY-MM-DDTHH:mm"),end:moment(t.dateEnd).format("YYYY-MM-DDTHH:mm")})))}))}catch(e){t.$util.handleError(e)}},async getAppointment(t){this.$refs.viewAppointment.open(t)}}};const M=[{path:"/",name:"index",component:l},{path:"/accounts",name:"accounts",component:d},{path:"/appointments",name:"appointmentsIndex",component:u},{path:"/appointments/view/:id",name:"appointmentsView",component:p,props:!0},{path:"/children",name:"childrenIndex",component:h},{path:"/children/add",name:"childrenAdd",component:C},{path:"/children/view/:id",name:"childrenView",component:y,props:!0},{path:"/clinics",name:"clinicsIndex",component:$},{path:"/clinics/view/:id",name:"clinicsView",component:N,props:!0},{path:"/clinics/view/:id/add-appointment",name:"clinicsAddAppointment",component:q,props:!0},{path:"/calendar",name:"calendarIndex",component:Object(r.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"demo-app-main"},[a("full-calendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions},scopedSlots:t._u([{key:"eventContent",fn:function(e){return[a("b",[t._v(t._s(e.timeText))]),t._v(" "),a("i",[t._v(t._s(e.event.title))])]}}])})],1),t._v(" "),a("view-appointment",{ref:"viewAppointment"})],1)}),[],!1,null,null,null).exports},{path:"*",component:{template:"<div>Not found</div>"}}],B=new s.a({base:"/parent",mode:"history",routes:M});e.a=B},XRt8:function(t,e,a){"use strict";a("chFz")},XxhF:function(t,e,a){"use strict";var s=a("8GYW"),i=a("y2gb"),n=a("8/S3"),r=a("It2h"),l=a("IImL"),o={mixins:[n.a],props:{uid:String,appName:{type:String,required:!0,default:"Pedia App"},urlProfilePicture:String,menus:Array},components:{NotificationsDrawer:r.a,MessagesDrawer:l.a}},c=a("KHd+"),d=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{attrs:{toggleable:"sm",fixed:"top",sticky:!0,type:"dark",variant:"dark"}},[a("div",{staticClass:"container-lg"},[a("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v(t._s(t.appName))]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarColor01"}},[a("ul",{staticClass:"navbar-nav"},t._l(t.menus,(function(e){return a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.to}},[a("span",{staticClass:"mr-1",class:e.icon}),t._v(" "),a("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(e.label)}})])],1)})),0)]),t._v(" "),a("ul",{staticClass:"navbar-nav ml-auto flex-row"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.messages.length>0,expression:"messages.length>0"}],staticClass:"nav-item"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.messagesDrawer",modifiers:{messagesDrawer:!0}}],staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault()}}},[a("i",{staticClass:"fas fa-envelope fa-fw"}),t._v(" "),a("span",{staticClass:"badge badge-danger"},[a("span",[t._v(t._s(t.messages.length))])])])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.notifications.length>0,expression:"notifications.length>0"}],staticClass:"nav-item px-2 px-sm-0"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.notificationsDrawer",modifiers:{notificationsDrawer:!0}}],staticClass:"nav-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[a("i",{staticClass:"fas fa-fw fa-bell"}),t._v(" "),a("span",{staticClass:"badge badge-danger"},[a("span",[t._v(t._s(t.notifications.length))])])])]),t._v(" "),a("li",{staticClass:"nav-item px-2 px-sm-0 dropdown"},[a("a",{staticClass:"nav-link  dropdown-toggle",attrs:{href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("b-avatar",{attrs:{variant:"info",size:"sm",src:t.urlProfilePicture}})],1),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{position:"absolute"},attrs:{"aria-labelledby":"userDropdown"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/accounts"}},[a("i",{staticClass:"fas fa-user fa-sm fa-fw mr-2"}),t._v("\n                        Account\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#","data-toggle":"modal","data-target":"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt fa-sm fa-fw mr-2 "}),t._v("\n                        Logout\n                    ")])],1)])])]),t._v(" "),a("notifications-drawer",{attrs:{notifications:t.notifications,"url-view-order":"ordersView"}}),t._v(" "),a("messages-drawer",{attrs:{messages:t.messages}})],1)}),[],!1,null,null,null).exports,m={props:{appName:String}},v=Object(c.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-sidebar",{attrs:{id:"navDrawer",title:t.appName,backdrop:"",shadow:""}},[a("div",{staticClass:"list-group list-group-flush"},[a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/"}},[a("span",{staticClass:"fas fa-fw fa-home mr-1"}),t._v("Home\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/contacts"}},[a("span",{staticClass:"fas fa-fw fa-id-card mr-1"}),t._v("Contacts\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/tasks"}},[a("span",{staticClass:"fas fa-fw fa-tasks mr-1"}),t._v("Tasks\n        ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{to:"/documents"}},[a("span",{staticClass:"fas fa-fw fa-archive mr-1"}),t._v("Documents\n        ")])],1)])}),[],!1,null,null,null).exports,u={mixins:[a("EQT1").a],props:{uid:String,menus:Array},data:()=>({}),computed:{},async created(){},async mounted(){},methods:{}},f=Object(c.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"d-block d-sm-none",attrs:{fixed:"bottom",type:"dark",variant:"dark"}},[a("b-navbar-nav",{attrs:{align:"center",justified:!0}},t._l(t.menus,(function(e){return a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.to}},[a("span",{staticClass:"mr-1",class:e.icon}),t._v(" "),a("span",{staticClass:"d-none d-md-inline",domProps:{textContent:t._s(e.label)}})])],1)})),0)],1)}),[],!1,null,null,null).exports,p={mixins:[s.a],components:{modalViewChat:i.a,AppBar:d,NavDrawer:v,BottomNav:f},props:{uid:String,appName:String,urlProfilePicture:String},data:()=>({menus:[{to:"/",label:"Home",icon:"fas fa-fw fa-home"},{to:"/clinics",label:"Clinics",icon:"fas fa-fw fa-clinic-medical"},{to:"/appointments",label:"Appointments",icon:"fas fa-fw fa-calendar"},{to:"/children",label:"Children",icon:"fas fa-fw fa-address-book"},{to:"/calendar",label:"Calendar",icon:"fas fa-fw fa-calendar"}]}),async mounted(){this.setupEventReceivers()},async created(){},methods:{displayToast(t,e){let a=t.content;a=a.replace(/<b>/g,""),a=a.replace(/<\/b>/g,""),a=a.replace(/<br\/>/g,""),this.$bvToast.toast(a,{title:t.title,variant:e,solid:!0})},setupEventReceivers(){const t=this;t.$bus.$on("event:clinic-requested",(e=>t.displayToast(e,"info"))),t.$bus.$on("event:clinic-rejected",(e=>t.displayToast(e,"danger"))),t.$bus.$on("event:clinic-accepted",(e=>t.displayToast(e,"success"))),t.$bus.$on("event:clinic-set-in-progress",(e=>t.displayToast(e,"info"))),t.$bus.$on("event:clinic-completed",(e=>t.displayToast(e,"success"))),t.$bus.$on("event:clinic-cancelled",(e=>t.displayToast(e,"warning"))),t.$bus.$on("event:clinic-archived",(e=>t.displayToast(e,"info")))}}},_=Object(c.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("app-bar",{attrs:{uid:t.uid,appName:t.appName,urlProfilePicture:t.urlProfilePicture,menus:t.menus}}),t._v(" "),a("main",{staticClass:"container-lg main mb-5 mb-md-0 pb-5 pb-sm-0"},[a("router-view",{attrs:{uid:t.uid}})],1),t._v(" "),a("bottom-nav",{attrs:{menus:t.menus}}),t._v(" "),a("modal-view-chat",{ref:"modalViewChat",attrs:{uid:t.uid}})],1)}),[],!1,null,null,null);e.a=_.exports},chFz:function(t,e,a){},f2gl:function(t,e,a){},ftup:function(t,e,a){"use strict";a("iM2a")},iM2a:function(t,e,a){},k4Y5:function(t,e,a){},m0rs:function(t,e,a){"use strict";a("k4Y5")}});