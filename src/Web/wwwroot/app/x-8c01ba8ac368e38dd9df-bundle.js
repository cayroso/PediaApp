(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["pedia~staff~systems"],{

/***/ "/GJ5":
/*!**************************************************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?vue&type=template&id=3d6063d3& ***!
  \**************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib??vue-loader-options!./_add.vue?vue&type=template&id=3d6063d3& */ \"sPBS\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?");

/***/ }),

/***/ "4FAV":
/*!******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data() {\n    return {\n      moment: moment,\n      isDirty: false,\n      validations: new Map(),\n      lookups: {\n        parents: [],\n        children: []\n      },\n      busy: false,\n      item: {\n        parentId: null,\n        childId: null,\n        dateStart: null,\n        dateEnd: null,\n        notes: null\n      }\n    };\n  },\n\n  computed: {\n    formIsValid() {\n      const vm = this; //if (!vm.isDirty)\n      //    return true;\n\n      const item = vm.item;\n      const validations = new Map();\n\n      if (!item.parentId) {\n        validations.set('parentId', 'Parent is required.');\n      }\n\n      if (!item.childId) {\n        validations.set('childId', 'Child is required.');\n      }\n\n      if (!item.dateStart) {\n        validations.set('dateStart', 'Start Date is required.');\n      }\n\n      if (!item.dateEnd) {\n        validations.set('dateEnd', 'End Date is required.');\n      }\n\n      vm.isDirty = true;\n      vm.validations = validations;\n      return validations.size == 0;\n    }\n\n  },\n  methods: {\n    getValidClass(field) {\n      const vm = this;\n      if (!vm.isDirty) return '';\n      if (vm.validations.has(field)) return 'is-invalid';\n      return 'is-valid';\n    },\n\n    reset() {\n      const vm = this;\n      vm.isDirty = false;\n      vm.validations.clear();\n      vm.item = {\n        parentId: null,\n        childId: null,\n        dateStart: null,\n        dateEnd: null,\n        notes: null\n      };\n    },\n\n    async open(item) {\n      const vm = this;\n      vm.reset();\n      vm.item = item;\n      await vm.getParents();\n      vm.$refs.modal.show();\n    },\n\n    close() {\n      const vm = this;\n      vm.$refs.modal.hide();\n    },\n\n    async getParents() {\n      const vm = this;\n      await vm.$util.axios.get(`/api/clinics/parents`).then(resp => vm.lookups.parents = resp.data);\n    },\n\n    async getParentChildren(id) {\n      const vm = this;\n      await vm.$util.axios.get(`/api/clinics/parents/${vm.item.parentId}/children`).then(resp => {\n        vm.lookups.children = resp.data;\n\n        if (vm.lookups.children.length === 1) {\n          vm.item.childId = vm.lookups.children[0].id;\n        }\n      });\n    },\n\n    async save() {\n      const vm = this;\n      if (vm.busy) return;\n      if (!vm.formIsValid) return;\n\n      try {\n        vm.busy = true;\n        const payload = vm.$util.clone(vm.item);\n        payload.clinicId = vm.id;\n        payload.dateStart = moment(payload.dateStart).utc();\n        payload.dateEnd = moment(payload.dateEnd).utc();\n        await vm.$util.axios.post(`/api/appointments/clinic/request`, payload).then(async _ => {\n          vm.$bvToast.toast('Appointment requested.', {\n            title: 'Request Appointment',\n            variant: 'success',\n            toaster: 'b-toaster-bottom-right'\n          });\n          vm.$emit('saved');\n          vm.close();\n        });\n      } catch (e) {\n        vm.$util.handleError(e);\n      } finally {\n        vm.busy = false;\n      }\n    }\n\n  }\n});\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "4am7":
/*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=template&id=f522b99e&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {},\n    [\n      _c(\"div\", { staticClass: \"d-flex flex-row justify-content-between\" }, [\n        _vm._m(0),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"text-right\" },\n          [\n            _c(\"b-overlay\", { attrs: { show: _vm.busy } }, [\n              _c(\n                \"button\",\n                { staticClass: \"btn btn-info\", on: { click: _vm.refresh } },\n                [_c(\"span\", { staticClass: \"fas fa-fw fa-sync\" })]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                { staticClass: \"btn btn-secondary\", on: { click: _vm.close } },\n                [_c(\"span\", { staticClass: \"fas fa-fw fa-times-circle\" })]\n              )\n            ])\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"mt-2\" },\n        [\n          _c(\"full-calendar\", {\n            ref: \"fullCalendar\",\n            attrs: { options: _vm.calendarOptions }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"modal-add\", { ref: \"modalAdd\" }),\n      _vm._v(\" \"),\n      _c(\"modal-view\", {\n        ref: \"modalView\",\n        attrs: { uid: _vm.uid, viewMode: _vm.viewMode }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"h1\", { staticClass: \"h3 mb-sm-0\" }, [\n      _c(\"i\", { staticClass: \"fas fa-fw fa-calendar mr-1\" }),\n      _vm._v(\"Appointments\\n        \")\n    ])\n  }\n]\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "6DAp":
/*!***************************************************************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=template&id=f522b99e&scoped=true& ***!
  \***************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=template&id=f522b99e&scoped=true& */ \"4am7\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?");

/***/ }),

/***/ "6gaK":
/*!*********************************************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../node_modules/babel-loader/lib!../../../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=script&lang=js& */ \"e2+R\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?");

/***/ }),

/***/ "9NJU":
/*!*****************************************************************************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=style&index=0&id=f522b99e&scoped=true&lang=css& ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=style&index=0&id=f522b99e&scoped=true&lang=css& */ \"maJT\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if([\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_mini_css_extract_plugin_dist_loader_js_ref_3_0_node_modules_css_loader_dist_cjs_js_ref_3_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?");

/***/ }),

/***/ "OaNk":
/*!*******************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/_add.vue ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_add.vue?vue&type=template&id=3d6063d3& */ \"/GJ5\");\n/* harmony import */ var _add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_add.vue?vue&type=script&lang=js& */ \"erQ9\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"KHd+\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _add_vue_vue_type_template_id_3d6063d3___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"ClientApp/_Common/Components/Clinic/Appointments/_add.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?");

/***/ }),

/***/ "e2+R":
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _fullcalendar_vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @fullcalendar/vue */ \"9f/t\");\n/* harmony import */ var _fullcalendar_daygrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @fullcalendar/daygrid */ \"PN1e\");\n/* harmony import */ var _fullcalendar_timegrid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fullcalendar/timegrid */ \"PjKf\");\n/* harmony import */ var _fullcalendar_interaction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fullcalendar/interaction */ \"ogxq\");\n/* harmony import */ var _Core_Mixins_pageMixin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../_Core/Mixins/pageMixin */ \"EQT1\");\n/* harmony import */ var _add_vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_add.vue */ \"OaNk\");\n/* harmony import */ var _Common_Modals_Appointments_view_vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../_Common/Modals/Appointments/view.vue */ \"2iVA\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mixins: [_Core_Mixins_pageMixin__WEBPACK_IMPORTED_MODULE_4__[\"default\"]],\n  props: {\n    uid: {\n      type: String,\n      required: true\n    },\n    pedia: {\n      type: Boolean,\n      required: true\n    }\n  },\n  components: {\n    FullCalendar: _fullcalendar_vue__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    modalAdd: _add_vue__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    modalView: _Common_Modals_Appointments_view_vue__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n  },\n\n  data() {\n    return {\n      calendarOptions: {\n        contentHeight: 'auto',\n        //height: '100%',\n        plugins: [_fullcalendar_daygrid__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _fullcalendar_timegrid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _fullcalendar_interaction__WEBPACK_IMPORTED_MODULE_3__[\"default\"] // needed for dateClick\n        ],\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          //right: 'dayGridMonth,timeGridWeek,timeGridDay'\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n        nowIndicator: true,\n        allDaySlot: false,\n        initialView: 'timeGridWeek',\n        slotMinTime: '06:00:00',\n        slotMaxTime: '20:00:00',\n        businessHours: true,\n        selectConstraint: 'businessHours',\n        eventConstraint: true,\n        datesSet: this.datesSet,\n        eventOverlap: false,\n        eventSources: [{\n          events: this.getAppointments\n        }],\n        editable: true,\n        selectable: true,\n        selectMirror: true,\n        dayMaxEvents: true,\n        weekends: true,\n        select: this.onClickCalendar,\n        //dateClick: this.onClickCalendar,\n        eventClick: this.onClickEvent,\n        //eventsSet: this.handleEvents\n\n        /* you can update a remote database when these fire:\n        eventAdd:\n        eventChange:\n        eventRemove:\n        */\n        //eventAdd: this.eventAdded,\n        eventChange: this.eventChanged\n      },\n      clinic: {},\n      items: []\n    };\n  },\n\n  computed: {\n    viewMode() {\n      const vm = this;\n      if (vm.pedia) return 'pedia';else return 'staff';\n      return '';\n    }\n\n  },\n\n  async created() {\n    const vm = this;\n    var settings = JSON.parse(localStorage.getItem('calendar:settings')) || {};\n    vm.calendarOptions.initialView = settings.viewType;\n    vm.$bus.$on('event:appointment-updated', async resp => {\n      await vm.refresh();\n    });\n  },\n\n  async mounted() {\n    const vm = this;\n    await vm.getClinicInfo();\n  },\n\n  methods: {\n    async refresh() {\n      const vm = this;\n      const fullCalendar = vm.$refs.fullCalendar;\n      fullCalendar.getApi().refetchEvents();\n    },\n\n    async datesSet(dateInfo) {\n      var setting = {\n        start: dateInfo.start,\n        end: dateInfo.end,\n        viewType: dateInfo.view.type\n      };\n      localStorage.setItem('calendar:settings', JSON.stringify(setting));\n    },\n\n    async eventChanged(info) {\n      const vm = this;\n      const item = info.event.extendedProps.item;\n\n      if (item.status > 2) {\n        info.revert();\n        return;\n      }\n\n      const payload = {\n        appointmentId: item.appointmentId,\n        token: item.token,\n        dateStart: moment(info.event.start),\n        dateEnd: moment(info.event.end)\n      };\n\n      try {\n        await vm.$util.axios.put(`/api/appointments/`, payload);\n        vm.$bvToast.toast('Appointment updated.', {\n          title: 'Edit Appointment Date',\n          variant: 'success',\n          toaster: 'b-toaster-bottom-right'\n        });\n      } catch (e) {\n        vm.$util.handleError(e);\n        info.revert();\n      }\n    },\n\n    async onClickCalendar(selectInfo) {\n      if (selectInfo.allDay) return;\n      const vm = this;\n      const start = moment(selectInfo.start);\n      const end = moment(selectInfo.end);\n\n      if (start.isBefore()) {\n        vm.$bvToast.toast('Cannot book appointment in the past, move on let go..', {\n          title: 'Book Appointment',\n          variant: 'warning'\n        });\n        return;\n      }\n\n      vm.$refs.modalAdd.open({\n        dateStart: start.format('YYYY-MM-DDTHH:mm'),\n        dateEnd: end.format('YYYY-MM-DDTHH:mm')\n      });\n    },\n\n    async onClickEvent(info) {\n      const vm = this;\n      vm.$refs.modalView.open(info.event.id);\n    },\n\n    getEventBg(item) {\n      let bg = '';\n\n      switch (item.status) {\n        // ParentRequested,\n        // ClinicRequested,\n        case 1:\n        case 2:\n          bg = 'magenta';\n          break;\n        // ParentCancelled,\n        // ClinicCancelled,\n\n        case 3:\n        case 4:\n          bg = 'silver';\n          break;\n        // ParentRejected,\n        // ClinicRejected,\n\n        case 5:\n        case 6:\n          bg = 'red';\n          break;\n        //Accepted,\n\n        case 7:\n          bg = 'blue';\n          break;\n        // InProgress,\n\n        case 8:\n          bg = 'green';\n          break;\n        // Completed,\n\n        case 9:\n          bg = 'bluegreen';\n          break;\n        //Archived\n      }\n\n      return bg;\n    },\n\n    async getClinicInfo() {\n      const vm = this;\n      await vm.$util.axios.get(`/api/clinics/my-clinic`).then(resp => vm.clinic = resp.data);\n      vm.calendarOptions.businessHours = vm.clinic.businessHours;\n      vm.calendarOptions.eventConstraint = vm.clinic.businessHours;\n    },\n\n    async getAppointments(fetchInfo) {\n      const vm = this;\n\n      try {\n        const query = ['?c=', '&p=', 1, '&s=', 100, '&sf=', '&so=', -1, '&ds=', moment(fetchInfo.start).valueOf(), '&de=', moment(fetchInfo.end).valueOf()].join('');\n        return await vm.$util.axios.get(`/api/appointments/clinic/search/${query}`).then(resp => {\n          vm.items = resp.data.items; //vm.calendarOptions.events\n\n          const items = resp.data.items.map(e => {\n            return {\n              id: e.appointmentId,\n              title: `${e.referenceNumber}`,\n              description: `${e.statusText}: ${e.parent.name} - ${e.child.name}`,\n              start: moment(e.dateStart).format('YYYY-MM-DDTHH:mm'),\n              end: moment(e.dateEnd).format('YYYY-MM-DDTHH:mm'),\n              color: 'red',\n              color: vm.getEventBg(e),\n              item: e,\n              eventDidMount: function () {\n                debugger;\n              }\n            };\n          });\n          return items;\n        });\n      } catch (e) {\n        vm.$util.handleError(e);\n      }\n    }\n\n  }\n});\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "erQ9":
/*!********************************************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../node_modules/babel-loader/lib!../../../../../node_modules/vue-loader/lib??vue-loader-options!./_add.vue?vue&type=script&lang=js& */ \"4FAV\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?");

/***/ }),

/***/ "maJT":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!./node_modules/css-loader/dist/cjs.js??ref--3-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options!./ClientApp/_Common/Components/Clinic/Appointments/index.vue?vue&type=style&index=0&id=f522b99e&scoped=true&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--3-0!./node_modules/css-loader/dist/cjs.js??ref--3-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "sPBS":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?vue&type=template&id=3d6063d3& ***!
  \********************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"b-modal\",\n    {\n      ref: \"modal\",\n      attrs: {\n        \"no-close-on-esc\": false,\n        \"no-close-on-backdrop\": true,\n        scrollable: \"\"\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"modal-header\",\n          fn: function() {\n            return [\n              _c(\"div\", { staticClass: \"w-100\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass:\n                      \"d-flex flex-row  align-items-center justify-content-between\"\n                  },\n                  [\n                    _c(\"h5\", { staticClass: \"m-0\" }, [\n                      _vm._v(\n                        \"\\n                    Book Appointment\\n                \"\n                      )\n                    ])\n                  ]\n                )\n              ])\n            ]\n          },\n          proxy: true\n        },\n        {\n          key: \"modal-footer\",\n          fn: function() {\n            return [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-primary\",\n                  attrs: { disabled: _vm.isDirty && !_vm.formIsValid },\n                  on: { click: _vm.save }\n                },\n                [_c(\"span\", { staticClass: \"fas fa-fw fa-save\" })]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-secondary\",\n                  on: { click: _vm.$refs.modal.hide }\n                },\n                [_vm._v(\"\\n            Close\\n        \")]\n              )\n            ]\n          },\n          proxy: true\n        }\n      ])\n    },\n    [\n      _vm._v(\" \"),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _c(\"div\", { staticClass: \"form-row\" }, [\n          _c(\"div\", { staticClass: \"form-group col-md\" }, [\n            _c(\"label\", { attrs: { for: \"parentId\" } }, [_vm._v(\"Parent\")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              [\n                _c(\"b-form-select\", {\n                  class: _vm.getValidClass(\"parentId\"),\n                  attrs: {\n                    options: _vm.lookups.parents,\n                    \"value-field\": \"id\",\n                    \"text-field\": \"name\",\n                    id: \"parentId\"\n                  },\n                  on: {\n                    change: function($event) {\n                      return _vm.getParentChildren(_vm.item.parentId)\n                    }\n                  },\n                  model: {\n                    value: _vm.item.parentId,\n                    callback: function($$v) {\n                      _vm.$set(_vm.item, \"parentId\", $$v)\n                    },\n                    expression: \"item.parentId\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _vm.validations.has(\"parentId\")\n                  ? _c(\"div\", { staticClass: \"invalid-feedback\" }, [\n                      _vm._v(\n                        \"\\n                        \" +\n                          _vm._s(_vm.validations.get(\"parentId\")) +\n                          \"\\n                    \"\n                      )\n                    ])\n                  : _vm._e()\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"form-group col-md\" }, [\n            _c(\"label\", { attrs: { for: \"childId\" } }, [_vm._v(\"Child\")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              [\n                _c(\"b-form-select\", {\n                  class: _vm.getValidClass(\"childId\"),\n                  attrs: {\n                    options: _vm.lookups.children,\n                    \"value-field\": \"id\",\n                    \"text-field\": \"name\",\n                    id: \"childId\"\n                  },\n                  model: {\n                    value: _vm.item.childId,\n                    callback: function($$v) {\n                      _vm.$set(_vm.item, \"childId\", $$v)\n                    },\n                    expression: \"item.childId\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _vm.validations.has(\"childId\")\n                  ? _c(\"div\", { staticClass: \"invalid-feedback\" }, [\n                      _vm._v(\n                        \"\\n                        \" +\n                          _vm._s(_vm.validations.get(\"childId\")) +\n                          \"\\n                    \"\n                      )\n                    ])\n                  : _vm._e()\n              ],\n              1\n            )\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"form-row\" }, [\n          _c(\"div\", { staticClass: \"form-group col-sm\" }, [\n            _c(\"label\", { attrs: { for: \"dateStart\" } }, [_vm._v(\"Start\")]),\n            _vm._v(\" \"),\n            _c(\"div\", [\n              _c(\n                \"div\",\n                { staticClass: \"form-control\", attrs: { type: \"text\" } },\n                [\n                  _vm._v(\n                    \"\\n                        \" +\n                      _vm._s(_vm._f(\"moment\")(_vm.item.dateStart, \"calendar\")) +\n                      \"\\n                    \"\n                  )\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"form-group col-sm\" }, [\n            _c(\"label\", { attrs: { for: \"dateEnd\" } }, [_vm._v(\"End\")]),\n            _vm._v(\" \"),\n            _c(\"div\", [\n              _c(\n                \"div\",\n                { staticClass: \"form-control\", attrs: { type: \"text\" } },\n                [\n                  _vm._v(\n                    \"\\n                        \" +\n                      _vm._s(_vm._f(\"moment\")(_vm.item.dateEnd, \"calendar\")) +\n                      \"\\n                    \"\n                  )\n                ]\n              )\n            ])\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"form-group\" }, [\n          _c(\"label\", { attrs: { for: \"notes\" } }, [_vm._v(\"Notes\")]),\n          _vm._v(\" \"),\n          _c(\"div\", [\n            _c(\"textarea\", {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.item.notes,\n                  expression: \"item.notes\"\n                }\n              ],\n              staticClass: \"form-control\",\n              attrs: { rows: \"3\" },\n              domProps: { value: _vm.item.notes },\n              on: {\n                input: function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.$set(_vm.item, \"notes\", $event.target.value)\n                }\n              }\n            })\n          ])\n        ])\n      ])\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/_add.vue?./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "uPQO":
/*!********************************************************************!*\
  !*** ./ClientApp/_Common/Components/Clinic/Appointments/index.vue ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=f522b99e&scoped=true& */ \"6DAp\");\n/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ \"6gaK\");\n/* empty/unused harmony star reexport *//* harmony import */ var _index_vue_vue_type_style_index_0_id_f522b99e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&id=f522b99e&scoped=true&lang=css& */ \"9NJU\");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"KHd+\");\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(\n  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _index_vue_vue_type_template_id_f522b99e_scoped_true___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  \"f522b99e\",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"ClientApp/_Common/Components/Clinic/Appointments/index.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack:///./ClientApp/_Common/Components/Clinic/Appointments/index.vue?");

/***/ })

}]);